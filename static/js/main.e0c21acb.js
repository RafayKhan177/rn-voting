(()=>{var e={5374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>nt});var r=n(3426),a=n(6792),o=n(9385),i={primary:"#ef233c",primaryAccent:"#2a9d8f",secoundary:"#d80032",secoundaryAccent:"#FFC857",backgroundPrimary:"#000",backgroundSecoundary:"rgba(240, 248, 255, 0.099)",textPrimary:"#fefae0",textsecoundary:"#e5e5e5"},l=[{name:"Dashboard",screen:"Dashboard",icon:"dashboard"},{name:"Manage Nominee",screen:"ManageNominee",icon:"users"},{name:"Manage Campaigns",screen:"ManageCampaigns",icon:"list"},{name:"Manage Position & Office",screen:"ManagePositionOffice",icon:"briefcase"},{name:"Manage Users",screen:"ManageUsers",icon:"check-square-o"},{name:"Voting",screen:"Voting",icon:"check-square-o"},{name:"Campaigns Result",screen:"Result",icon:"address-card"},{name:"My Account",screen:"MyAccount",icon:"address-card"}],s=[{name:"Voting",screen:"Voting",icon:"check-square-o"},{name:"My Account",screen:"MyAccount",icon:"address-card"},{name:"Campaigns Result",screen:"Result",icon:"address-card"}],d=[{name:"Sign In",screen:"Signup"},{name:"Sign Up",screen:"Signin"},{name:"Verify",screen:"Verify"}],u=n(5861),c=n(885),f=n(5004),y=n(1054),m=n(2629);function p(e){var t=e.txt,n=e.size;return(0,m.jsx)(y.default,{style:[g.heading,{fontSize:n||20}],children:t})}var g=a.default.create({heading:{fontWeight:"900",color:i.textPrimary,backgroundColor:i.backgroundSecoundary,borderRadius:10,padding:15,margin:10,alignSelf:"center"}}),h=n(229);function x(){return(0,m.jsx)(o.default,{style:j.container,children:(0,m.jsx)(o.default,{style:j.loaderContainer,children:(0,m.jsx)(h.default,{size:"large",color:i.primary})})})}var j=a.default.create({container:{flex:1,backgroundColor:i.backgroundPrimary,justifyContent:"center",alignItems:"center"},loaderContainer:{justifyContent:"center",alignItems:"center"}}),b=n(4504),v=n(1318),C=n(9702),P=n(4584),S=n(9294),w=n(2152),O=n(3224),k=n(5288),T=n(6028),D=n(9514);function B(e){var t=e.screens,n=(0,f.useState)(!1),r=(0,c.default)(n,2),a=r[0],l=r[1],s=(0,f.useRef)(new C.default.Value(0)).current,d=(0,v.useNavigation)(),u=function(){a?C.default.timing(s,{toValue:0,duration:300,useNativeDriver:!0}).start((function(){return l(!1)})):(l(!0),C.default.timing(s,{toValue:1,duration:300,useNativeDriver:!0}).start())};return(0,m.jsxs)(T.SafeAreaView,{style:E.container,children:[(0,m.jsxs)(o.default,{style:{flexDirection:"row"},children:[(0,m.jsx)(k.default,{onPress:u,style:E.menuButton,children:(0,m.jsx)(b.default,{name:"menu",size:24,color:"white"})}),(0,m.jsx)(y.default,{style:E.title,children:"VOTING"})]}),d.canGoBack()&&(0,m.jsx)(k.default,{onPress:function(){d.goBack()},style:{alignSelf:"center"},children:(0,m.jsx)(b.default,{name:"arrow-back",size:24,color:"white"})}),a&&function(){var e=P.default.get("window").width,n=e<=800?.7*e:.3*e,r=s.interpolate({inputRange:[0,1],outputRange:[-n,0]});return(0,m.jsx)(S.default,{visible:a,transparent:!0,animationType:"fade",onRequestClose:function(){return u()},children:(0,m.jsx)(k.default,{style:E.popupMenuOverlay,activeOpacity:1,onPressOut:function(){return u()},children:(0,m.jsxs)(C.default.View,{style:[E.popupMenu,{width:n,transform:[{translateX:r}]}],children:[(0,m.jsx)(k.default,{onPress:u,style:E.closeButton,children:(0,m.jsx)(b.default,{name:"close",size:24,color:i.textPrimary})}),(0,m.jsx)(O.default,{children:t.map((function(e,t){return(0,m.jsxs)(k.default,{onPress:function(){return function(e){d.navigate(e),u()}(e.screen)},style:E.menuItem,children:[(0,m.jsx)(D.default,{style:{textAlign:"center",alignSelf:"center",marginRight:10},name:e.icon,size:20,color:i.textsecoundary}),(0,m.jsx)(y.default,{style:E.menuItemText,children:e.name})]},t)}))})]})})})}()]})}var E=a.default.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:i.primary,paddingHorizontal:16,paddingBottom:10,padding:5},menuButton:{marginRight:8,alignSelf:"center"},title:{color:i.textPrimary,fontSize:18,fontWeight:"bold",alignSelf:"center"},popupMenuOverlay:{flex:1,backgroundColor:i.backgroundSecoundary,justifyContent:"flex-end"},popupMenu:{backgroundColor:i.backgroundPrimary,elevation:2,paddingHorizontal:16,paddingBottom:16,position:"absolute",height:"100%",paddingTop:"ios"===w.default.OS?40:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:10,borderBottomRightRadius:10},closeButton:{alignSelf:"flex-end",marginTop:0,marginRight:-8,paddingHorizontal:8,paddingVertical:8},menuItem:{borderRadius:10,backgroundColor:i.backgroundSecoundary,padding:25,margin:5,display:"flex",flexDirection:"row"},menuItemText:{fontSize:15,color:i.textPrimary,fontWeight:"bold",width:"90%"}}),N=n(5222),I=n(2736),z=n(327);n(4472),n(9531),n(9512);z.default.apps.length||z.default.initializeApp({apiKey:"AIzaSyDks6yRXWpG_njqwwsyU_-3OzsZo5gmG-8",authDomain:"voting-webapp-b036d.firebaseapp.com",projectId:"voting-webapp-b036d",storageBucket:"voting-webapp-b036d.appspot.com",messagingSenderId:"746342672553",appId:"1:746342672553:web:3cdf4233c1bbd3bddfa1b8",measurementId:"G-4GCZ3KBXKJ"});const W=z.default;function R(){var e=(0,f.useState)(0),t=(0,c.default)(e,2),n=t[0],r=t[1],a=(0,f.useState)(0),s=(0,c.default)(a,2),d=s[0],g=s[1],h=(0,f.useState)(0),x=(0,c.default)(h,2),j=x[0],b=x[1],C=(0,f.useState)(0),P=(0,c.default)(C,2),S=P[0],w=P[1],T=W.firestore();(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){try{var e=yield T.collection("campaigns").get();r(e.size);var t=yield T.collection("nominees").get();g(t.size);var n=yield T.collection("positions").get();b(n.size);var a=yield T.collection("users").get();w(a.size)}catch(o){console.error("Error fetching data:",o)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var B=(0,v.useNavigation)();return(0,m.jsx)(O.default,{children:(0,m.jsxs)(o.default,{style:V.container,children:[(0,m.jsx)(p,{txt:"Dashboard"}),(0,m.jsxs)(o.default,{style:V.cardContainer,children:[(0,m.jsxs)(o.default,{style:V.card,children:[(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:V.statTitle,children:"Total Campaigns"}),(0,m.jsx)(y.default,{style:V.statValue,children:n})]}),(0,m.jsx)(D.default,{style:V.cardIcon,name:"flag",size:24,color:i.primary})]}),(0,m.jsxs)(o.default,{style:V.card,children:[(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:V.statTitle,children:"Total Nominees"}),(0,m.jsx)(y.default,{style:V.statValue,children:d})]}),(0,m.jsx)(D.default,{style:V.cardIcon,name:"users",size:24,color:i.primary})]}),(0,m.jsxs)(o.default,{style:V.card,children:[(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:V.statTitle,children:"Total Positions/Offices"}),(0,m.jsx)(y.default,{style:V.statValue,children:j})]}),(0,m.jsx)(D.default,{style:V.cardIcon,name:"briefcase",size:24,color:i.primary})]}),(0,m.jsxs)(o.default,{style:V.card,children:[(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:V.statTitle,children:"Total Users"}),(0,m.jsx)(y.default,{style:V.statValue,children:S})]}),(0,m.jsx)(D.default,{style:V.cardIcon,name:"user",size:24,color:i.primary})]})]}),(0,m.jsx)(p,{txt:"Management Sections"}),(0,m.jsx)(o.default,{style:V.sectionContainer,children:l.map((function(e,t){return(0,m.jsxs)(k.default,{onPress:function(){return function(e){B.navigate(e)}(e.screen)},style:V.sectionButton,children:[(0,m.jsx)(D.default,{style:{textAlign:"center",paddingHorizontal:10},name:e.icon,size:20,color:i.textsecoundary}),(0,m.jsx)(y.default,{style:V.sectionButtonText,children:e.name})]},t)}))})]})})}var V={container:{justifyContent:"center",alignItems:"center",backgroundColor:i.backgroundPrimary,paddingTop:30,paddingBottom:30},cardContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"80%",alignSelf:"center",justifyContent:"center"},card:{backgroundColor:i.backgroundSecoundary,borderRadius:8,paddingHorizontal:16,paddingVertical:29,maxWidth:400,minWidth:100,width:"100%",alignSelf:"center",margin:12,flexDirection:"row",justifyContent:"space-between"},title:{fontSize:24,fontWeight:"bold",color:i.textPrimary,marginBottom:16},statTitle:{fontSize:18,fontWeight:"bold",color:i.textPrimary,marginBottom:8},statValue:{fontSize:32,fontWeight:"bold",color:i.primary},sectionTitle:{fontSize:20,fontWeight:"bold",color:i.textPrimary,marginBottom:16},sectionContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",alignSelf:"center",justifyContent:"center",alignItems:"center"},sectionButton:{backgroundColor:i.primary,borderRadius:8,paddingHorizontal:16,paddingVertical:29,maxWidth:300,minWidth:100,width:"100%",margin:12,display:"flex",flexDirection:"row"},sectionButtonText:{fontSize:16,fontWeight:"bold",color:i.textsecoundary,textAlign:"center"}},A=n(3645),M=n(2982),L=n(4942),H=n(9199),U=n(3624),F=n(5087),q=n(6591);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(){var e=(0,f.useState)([]),t=(0,c.default)(e,2),n=t[0],r=t[1],a=(0,f.useState)([]),i=(0,c.default)(a,2),l=i[0],s=i[1],d=(0,f.useState)({}),g=(0,c.default)(d,2),h=g[0],x=g[1],j=(0,f.useState)([]),b=(0,c.default)(j,2),v=b[0],C=b[1],P=(0,f.useState)({}),w=(0,c.default)(P,2),O=w[0],T=w[1],D=(0,f.useState)(null),B=(0,c.default)(D,2),E=B[0],N=B[1],I=(0,f.useState)(!1),z=(0,c.default)(I,2),R=z[0],V=z[1],$=W.firestore();(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=$.collection("nominees"),t=$.collection("positions");try{var n=(yield e.get()).docs.map((function(e){return _({id:e.id},e.data())}));s(n)}catch(a){console.error("Error fetching nominees: ",a)}try{var r=(yield t.get()).docs.map((function(e){return _({id:e.id},e.data())}));C(r)}catch(a){console.error("Error fetching positions: ",a)}}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,f.useEffect)((function(){var e=$.collection("campaigns").onSnapshot((function(e){var t=e.docs.map((function(e){return _({id:e.id},e.data())}));r(t)}));return function(){e()}}),[]);var G=function(){var e=(0,u.default)((function*(e){var t=$.collection("positions").doc(e);try{var n=yield t.get();if(n.exists)return n.data().name}catch(r){console.error("Error fetching position name:",r)}return""}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,u.default)((function*(e){var t=e.map((function(e){return e.position})),n={};for(var r of t)n[r]=yield G(r);T(n)}));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){n.length>0&&K(n)}),[n]);var X=function(){var e=(0,u.default)((function*(e){var t={};try{for(var n of e){var r=yield $.collection("nominees").doc(n).get();if(r.exists){var a=`${r.data().firstName} ${r.data().lastName}`;t[n]=a}}}catch(o){console.error("Error fetching nominee names:",o)}x(t)}));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){if(n.length>0){var e=n.flatMap((function(e){return e.nominees.map((function(e){return e}))}));X(e)}}),[n]);var Z=function(e,t){N(_(_({},E),{},(0,L.default)({},e,t)))},Y=function(){var e=(0,u.default)((function*(){var e=E.startDate,t=E.endDate,n=/^\d{2}\/\d{2}\/\d{4}$/;if(e.match(n)&&t.match(n))if(e&&t){var r=$.collection("campaigns").doc(E.id);try{yield r.update(E),V(!1)}catch(a){U.default.alert("Something Went Wrong")}}else U.default.alert("Start date and end date cannot be empty.");else U.default.alert("Invalid date format. Please use dd/mm/yyyy format.")}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,u.default)((function*(e){var t=$.collection("campaigns").doc(e);try{yield t.delete()}catch(n){console.error("Error deleting campaign: ",n)}}));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.default,{style:J.container,children:[(0,m.jsx)(A.default,{data:n,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return(0,m.jsxs)(o.default,{style:J.card,children:[(0,m.jsxs)(y.default,{style:J.subheading,children:["Office / Position: ",O[t.position]||"none"]}),t.nominees.map((function(e,t){return(0,m.jsxs)(y.default,{style:J.bodyText,children:["(",t+1,") Nominee: ",h[e]]},t)})),(0,m.jsxs)(y.default,{style:J.bodyText,children:["Start Date: ",t.startDate]}),(0,m.jsxs)(y.default,{style:J.bodyText,children:["End Date: ",t.endDate]}),(0,m.jsxs)(o.default,{style:J.buttonContainer,children:[(0,m.jsx)(k.default,{onPress:function(){return N(t),void V(!0)},style:J.button,children:(0,m.jsx)(y.default,{style:J.btntxt,children:"Edit"})}),(0,m.jsx)(k.default,{onPress:function(){return Q(t.id)},style:J.errorButton,children:(0,m.jsx)(y.default,{style:J.btntxt,children:"Delete"})})]})]})}}),(0,m.jsx)(S.default,{visible:R,animationType:"slide",children:(0,m.jsxs)(o.default,{style:J.modalContainer,children:[(0,m.jsx)(p,{txt:"Edit Campaign"}),E&&(0,m.jsxs)(o.default,{style:J.modalCard,children:[(0,m.jsx)(H.Picker,{selectedValue:E.position,onValueChange:function(e){return Z("position",e)},style:J.picker,children:v.map((function(e){return(0,m.jsx)(H.Picker.Item,{value:e.id,label:`${e.name} / ${e.description}`},e.id)}))}),(0,m.jsxs)(o.default,{style:J.switchContainer,children:[(0,m.jsx)(y.default,{style:J.switchLabel,children:"Nominees:"}),l.map((function(e){return(0,m.jsxs)(o.default,{style:J.switchItem,children:[(0,m.jsxs)(y.default,{style:J.switchText,children:[e.firstName," ",e.lastName]}),(0,m.jsx)(F.default,{value:E.nominees.includes(e.id),onValueChange:function(t){var n=E.nominees;if(t)n.push(e.id);else{var r=n.indexOf(e.id);r>-1&&n.splice(r,1)}Z("nominees",(0,M.default)(n))}})]},e.id)}))]}),(0,m.jsx)(q.default,{style:J.input,name:"startDate",value:E.startDate,onChangeText:function(e){return Z("startDate",e)}}),(0,m.jsx)(q.default,{style:J.input,name:"endDate",value:E.endDate,onChangeText:function(e){return Z("endDate",e)}}),(0,m.jsx)(o.default,{style:J.modalButtonContainer,children:(0,m.jsx)(k.default,{onPress:Y,style:J.button,children:(0,m.jsx)(y.default,{style:J.btntxt,children:"Update Campaign"})})})]}),(0,m.jsx)(k.default,{onPress:function(){N(null),V(!1)},style:J.errorButton,children:(0,m.jsx)(y.default,{style:J.btntxt,children:"Close"})})]})})]})}var J=a.default.create({container:{width:"100%",alignSelf:"center",display:"flex",justifyContent:"center",alignItems:"center"},card:{borderRadius:8,padding:35,marginBottom:20,backgroundColor:i.backgroundSecoundary,margin:10,minWidth:"90%"},subheading:{fontSize:18,fontWeight:"bold",marginBottom:10,color:i.textPrimary},bodyText:{marginBottom:5,color:i.textsecoundary},buttonContainer:{flexDirection:"row",justifyContent:"space-around",marginTop:15},modalContainer:{flex:1,justifyContent:"center",padding:20,backgroundColor:i.backgroundPrimary},modalHeading:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center",color:i.textPrimary},modalCard:{borderRadius:8,padding:15,marginBottom:20,backgroundColor:i.backgroundSecoundary},input:{borderRadius:5,padding:10,marginBottom:10,color:i.textPrimary},modalButtonContainer:{marginTop:10},switchContainer:{marginBottom:10},switchItem:{flexDirection:"row",alignItems:"center",marginBottom:5},switchLabel:{fontSize:16,fontWeight:"bold",marginBottom:5,color:i.textPrimary},switchText:{flex:1,marginRight:10,color:i.textPrimary},button:{backgroundColor:i.primaryAccent,margin:3,borderRadius:3,padding:12,color:i.textPrimary,minWidth:"45%"},btntxt:{fontSize:15,fontWeight:"900",color:i.textPrimary},errorButton:{backgroundColor:i.secoundary,margin:3,borderRadius:3,padding:12,color:i.textPrimary,minWidth:"45%",marginLeft:8}}),K=n(1168),X=n(7129),Z=n(6532);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(){var e=(new Date).toISOString().slice(0,10).replace(/-/g,"/"),t=(0,f.useState)(null),n=(0,c.default)(t,2),r=n[0],a=n[1],l=(0,f.useState)(null),s=(0,c.default)(l,2),d=s[0],g=s[1],h=(0,f.useState)(e),x=(0,c.default)(h,2),j=x[0],b=x[1],v=(0,f.useState)(e),C=(0,c.default)(v,2),P=C[0],S=C[1],O=(0,f.useState)([]),T=(0,c.default)(O,2),D=T[0],B=T[1],E=(0,f.useState)([]),N=(0,c.default)(E,2),I=N[0],z=N[1],R=(0,f.useState)({position:"",nominees:[]}),V=(0,c.default)(R,2),A=V[0],$=V[1],_=(0,f.useState)(!1),G=(0,c.default)(_,2),J=G[0],Y=G[1],ee=(0,f.useState)(!1),ne=(0,c.default)(ee,2),re=ne[0],ae=ne[1];(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=W.firestore(),t=e.collection("nominees"),n=e.collection("positions");try{var r=(yield t.get()).docs.map((function(e){return Q({id:e.id},e.data())}));B(r)}catch(o){console.error("Error fetching nominees: ",o)}try{var a=(yield n.get()).docs.map((function(e){return Q({id:e.id},e.data())}));z(a)}catch(o){console.error("Error fetching positions: ",o)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var oe=W.firestore().collection("campaigns"),ie=function(){var e=(0,u.default)((function*(){if(A.position&&0!==A.nominees.length&&r&&d){var e=(0,Z.default)(r,"yyyy/MM/dd"),t=(0,Z.default)(d,"yyyy/MM/dd");try{var n={position:A.position,nominees:A.nominees,startDate:e,endDate:t};yield oe.add(n),$({position:"",nominees:[]}),a(null),g(null),U.default.alert("Campaign added successfully!")}catch(o){console.error("Error adding campaign: ",o),U.default.alert("An error occurred while adding the campaign. Please try again.")}}else U.default.alert("Please fill in all required fields.")}));return function(){return e.apply(this,arguments)}}(),le=function(e){return/^\d{4}\/\d{2}\/\d{2}$/.test(e)},se=function(){var t=(0,u.default)((function*(){if(console.log(A.position,A.nominees,j,P),!A.position||0===A.nominees.length||!j||!P)return console.log("Please fill in all required fields."),void U.default.alert("Please fill in all required fields.");if(!le(j)||!le(P))return console.log("Invalid date format. Please use yyyy/mm/dd format."),void U.default.alert("Invalid date format. Please use yyyy/mm/dd format.");try{var t={position:A.position,nominees:A.nominees,startDate:j,endDate:P};console.log("Adding campaign data: ",t),yield oe.add(t),console.log("Campaign added successfully!"),$({nominees:[],position:A.position}),b(e),S(e),console.log("Reset newCampaign, startDate, and endDate"),U.default.alert("Campaign added successfully!")}catch(n){console.error("Error adding campaign: ",n),U.default.alert("An error occurred while adding the campaign. Please try again.")}}));return function(){return t.apply(this,arguments)}}(),de=function(e,t){$(Q(Q({},A),{},(0,L.default)({},e,t)))};return(0,m.jsxs)(o.default,{style:te.container,children:[(0,m.jsx)(p,{txt:"Manage Campaigns"}),(0,m.jsxs)(o.default,{style:te.card,children:[(0,m.jsx)(H.Picker,{name:"position",selectedValue:A.position,onValueChange:function(e){return de("position",e)},style:te.input,children:I.map((function(e){return(0,m.jsx)(H.Picker.Item,{label:`${e.name} / ${e.description}`,value:e.id},e.id)}))}),(0,m.jsx)(y.default,{style:te.label,children:"Select Nominees:"}),D.map((function(e){return(0,m.jsxs)(o.default,{style:te.nomineeOption,children:[(0,m.jsx)(F.default,{value:A.nominees.includes(e.id),onValueChange:function(){return function(e){var t=A.nominees.includes(e)?A.nominees.filter((function(t){return t!==e})):[].concat((0,M.default)(A.nominees),[e]);de("nominees",t)}(e.id)},style:te.switch}),(0,m.jsx)(y.default,{style:te.nomineeText,children:`${e.firstName} ${e.lastName}, Bio: ${e.biography}`})]},e.id)})),"web"===w.default.OS?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(o.default,{style:te.textInputContianer,children:[(0,m.jsxs)(o.default,{style:te.textInput,children:[(0,m.jsx)(y.default,{style:te.label,children:"Start Date"}),(0,m.jsx)(q.default,{value:j,style:te.input,placeholder:"dd/mm/yyyy",onChangeText:function(e){return b(e)},placeholderTextColor:i.backgroundSecoundary})]}),(0,m.jsxs)(o.default,{style:te.textInput,children:[(0,m.jsx)(y.default,{style:te.label,children:"End Date"}),(0,m.jsx)(q.default,{value:P,style:te.input,placeholder:"dd/mm/yyyy",onChangeText:function(e){return S(e)},placeholderTextColor:i.backgroundSecoundary})]})]}),(0,m.jsx)(o.default,{style:te.buttonContainer,children:(0,m.jsx)(k.default,{style:te.errorButton,onPress:se,children:(0,m.jsx)(y.default,{style:te.btntxt,children:"Add Campaign"})})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(X.default,{onPress:function(){return Y(!0)},children:(0,m.jsx)(o.default,{style:te.dateInput,children:(0,m.jsx)(y.default,{style:{color:i.textsecoundary},children:r?r.toLocaleDateString("en-GB"):"Select start date"})})}),J&&(0,m.jsx)(K.default,{value:r||new Date,mode:"date",display:"default",onChange:function(e,t){t&&a(t),Y(!1)},style:te.dateTimePicker}),(0,m.jsx)(y.default,{style:te.label,children:"End Date:"}),(0,m.jsx)(X.default,{onPress:function(){return ae(!0)},children:(0,m.jsx)(o.default,{style:te.dateInput,children:(0,m.jsx)(y.default,{style:{color:i.textsecoundary},children:d?d.toLocaleDateString("en-GB"):"Select end date"})})}),re&&(0,m.jsx)(K.default,{value:d||new Date,plh:!0,mode:"date",display:"default",onChange:function(e,t){t&&g(t),ae(!1)},style:te.dateTimePicker}),(0,m.jsx)(o.default,{style:te.buttonContainer,children:(0,m.jsx)(k.default,{style:te.errorButton,onPress:ie,children:(0,m.jsx)(y.default,{style:te.btntxt,children:"Add Campaign"})})})]})]})]})}var te=a.default.create({container:{flex:1,alignSelf:"center",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},card:{backgroundColor:i.backgroundSecoundary,borderRadius:8,padding:30,elevation:5,width:"90%"},input:{backgroundColor:i.backgroundSecoundary,borderRadius:5,paddingHorizontal:10,paddingVertical:8,fontSize:16,color:i.textPrimary},label:{fontSize:18,fontWeight:"bold",marginTop:10,color:i.textPrimary},nomineeOption:{flexDirection:"row",alignItems:"center",marginTop:5},dateInput:{height:40,borderWidth:1,marginBottom:10,paddingHorizontal:10,justifyContent:"center",color:i.textPrimary},buttonContainer:{marginTop:20},dateTimePickerContainer:{marginBottom:10,borderRadius:8,backgroundColor:i.backgroundSecoundary},dateTimePicker:{color:"#fff"},switch:{marginRight:10},nomineeText:{color:i.textPrimary},textInputContianer:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},textInput:{width:"40%",marginHorizontal:3},button:{backgroundColor:i.primaryAccent,margin:3,borderRadius:7,padding:12,color:i.textPrimary},btntxt:{fontSize:15,fontWeight:"900",color:i.textPrimary},errorButton:{backgroundColor:i.secoundary,margin:3,fontSize:15,fontWeight:"900",borderRadius:7,padding:12,color:i.textPrimary}});function ne(){var e=[{key:"new",component:(0,m.jsx)(ee,{})},{key:"all",component:(0,m.jsx)(G,{})}];return(0,m.jsx)(o.default,{style:re.container,children:(0,m.jsx)(A.default,{data:e,renderItem:function(e){return e.item.component},keyExtractor:function(e){return e.key}})})}var re=a.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:i.backgroundPrimary}}),ae=n(2113),oe=n(2826),ie=n(2481);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(){var e=(0,f.useState)(!1),t=(0,c.default)(e,2),r=t[0],a=t[1],l=(0,f.useState)(null),s=(0,c.default)(l,2),d=s[0],g=s[1],h=(0,f.useState)({firstName:"",lastName:"",biography:"",picture:""}),x=(0,c.default)(h,2),j=x[0],b=x[1],v=(0,f.useState)([]),C=(0,c.default)(v,2),P=C[0],S=C[1],w=W.firestore();(0,f.useEffect)((function(){var e=w.collection("nominees").onSnapshot((function(e){var t=e.docs.map((function(e){return se({id:e.id},e.data())}));S(t)}));return function(){e()}}),[]);var T=function(){a(!0)},D=function(){a(!1),b({firstName:"",lastName:"",biography:"",picture:""})},B=function(e,t){"picture"===e?g(t):b((function(n){return se(se({},n),{},(0,L.default)({},e,t))}))},E=function(){var e=(0,u.default)((function*(){try{var e=se({},j);if(d){var t=yield fetch(d),n=yield t.blob(),r=Date.now().toString(),a=W.storage().ref().child(`nomineePictures/${r}`);yield a.put(n);var o=yield a.getDownloadURL();e=se(se({},e),{},{picture:o||""})}yield w.collection("nominees").add(e),D()}catch(i){console.error("Error saving nominee: ",i)}}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,u.default)((function*(){try{var e=se({},j);if(d){var t=yield fetch(d),n=yield t.blob(),r=Date.now().toString(),a=W.storage().ref().child(`nomineePictures/${r}`);yield a.put(n);var o=yield a.getDownloadURL();e=se(se({},e),{},{picture:o||""})}yield w.collection("nominees").doc(j.id).update(e),D()}catch(i){console.error("Error updating nominee: ",i)}}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,u.default)((function*(e){try{yield w.collection("nominees").doc(e.id).delete()}catch(t){console.error("Error deleting nominee: ",t)}}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,u.default)((function*(){try{if(!1===(yield ae.requestMediaLibraryPermissionsAsync()).granted)return void alert("Permission to access the camera roll is required!");var e=yield ae.launchImageLibraryAsync({mediaTypes:oe.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:1});e.canceled||(g(e.assets[0].uri),b((function(t){return se(se({},t),{},{picture:e.assets[0].uri})})))}catch(t){console.error("Error picking image: ",t)}}));return function(){return e.apply(this,arguments)}}();return(0,m.jsx)(o.default,{style:ue.container,children:(0,m.jsxs)(O.default,{children:[(0,m.jsx)(p,{txt:"Manage Nominees"}),r&&(0,m.jsxs)(o.default,{style:ue.dialogContainer,children:[(0,m.jsxs)(y.default,{style:ue.dialogHeading,children:[j.id?"Edit":"Add"," Nominee"]}),(0,m.jsxs)(o.default,{children:[(0,m.jsx)(q.default,{placeholder:"First Name",placeholderTextColor:i.textsecoundary,label:"First Name",value:j.firstName,onChangeText:function(e){return B("firstName",e)},style:ue.input}),(0,m.jsx)(q.default,{placeholder:"Last Name",placeholderTextColor:i.textsecoundary,label:"Last Name",value:j.lastName,onChangeText:function(e){return B("lastName",e)},style:ue.input}),(0,m.jsx)(q.default,{placeholder:"Biography",placeholderTextColor:i.textsecoundary,label:"Biography",value:j.biography,onChangeText:function(e){return B("biography",e)},multiline:!0,numberOfLines:4,style:ue.input}),(0,m.jsx)(k.default,{mode:"contained",onPress:z,style:{padding:10,margin:5,borderRadius:5,backgroundColor:i.primary},title:"Add Picture",children:(0,m.jsx)(y.default,{style:ue.btntxt,children:"Add Picture"})})]}),(0,m.jsxs)(o.default,{style:ue.buttonContainer,children:[(0,m.jsx)(k.default,{mode:"outlined",onPress:D,style:ue.errorButton,children:(0,m.jsx)(y.default,{style:ue.btntxt,children:"Cancel"})}),(0,m.jsx)(k.default,{mode:"contained",onPress:j.id?N:E,style:ue.button,children:(0,m.jsx)(y.default,{style:ue.btntxt,children:j.id?"Update":"Save"})})]})]}),(0,m.jsx)(o.default,{style:ue.header,children:!r&&(0,m.jsx)(k.default,{mode:"contained",onPress:T,style:ue.button,children:(0,m.jsx)(y.default,{style:ue.btntxt,children:"Add Nominee"})})}),(0,m.jsx)(o.default,{style:ue.cards_conatiner,children:P.map((function(e){return(0,m.jsxs)(ie.default,{style:ue.card,children:[(0,m.jsx)(ie.default.Cover,{source:e.picture?{uri:e.picture}:n(6896),style:ue.image}),(0,m.jsxs)(ie.default.Content,{children:[(0,m.jsxs)(y.default,{style:ue.name,children:[e.firstName," ",e.lastName]}),(0,m.jsx)(y.default,{style:ue.biography,children:e.biography}),(0,m.jsxs)(o.default,{style:ue.buttonContainer,children:[(0,m.jsx)(k.default,{onPress:function(){return function(e){b(e),T()}(e)},style:ue.button,children:(0,m.jsx)(y.default,{style:ue.btntxt,children:"Edit "})}),(0,m.jsx)(k.default,{mode:"contained",onPress:function(){return I(e)},style:ue.errorButton,children:(0,m.jsx)(y.default,{style:ue.btntxt,children:"Delete"})})]})]})]},e.id)}))})]})})}var ue=a.default.create({container:{padding:16,flex:1,backgroundColor:i.backgroundPrimary},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12},addButton:{backgroundColor:i.primary},cards_conatiner:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},card:{width:"100%",marginBottom:12,backgroundColor:i.backgroundSecoundary,maxWidth:400,margin:4},image:{height:200},name:{fontSize:18,fontWeight:"900",margin:4,color:i.textPrimary},biography:{color:i.textsecoundary,margin:4},buttonContainer:{flexDirection:"row",justifyContent:"flex-end"},button:{backgroundColor:i.primaryAccent,margin:3,borderRadius:7,padding:12,color:i.textPrimary},btntxt:{fontSize:15,fontWeight:"900",color:i.textPrimary},errorButton:{backgroundColor:i.secoundary,margin:3,fontSize:15,fontWeight:"900",borderRadius:7,padding:12,color:i.textPrimary},dialogContainer:{padding:16,backgroundColor:i.backgroundSecoundary,borderRadius:8,marginTop:16},dialogHeading:{fontSize:20,fontWeight:"bold",marginBottom:16,color:i.textPrimary},input:{backgroundColor:i.backgroundSecoundary,width:"100%",borderRadius:8,paddingVertical:12,paddingHorizontal:16,color:i.textPrimary,margin:4}}),ce=n(3693);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(){var e=(0,f.useState)([]),t=(0,c.default)(e,2),n=t[0],r=t[1],a=(0,f.useState)({name:"",description:""}),l=(0,c.default)(a,2),s=l[0],d=l[1],g=(0,f.useState)(null),h=(0,c.default)(g,2),x=h[0],j=h[1];(0,f.useEffect)((function(){var e=W.firestore().collection("positions").onSnapshot((function(e){var t=e.docs.map((function(e){return ye({id:e.id},e.data())}));r(t)}));return function(){e()}}),[]);var b=function(e,t){d((function(n){return ye(ye({},n),{},(0,L.default)({},e,t))}))},v=function(){var e=(0,u.default)((function*(){if(s.name&&s.description){var e=W.firestore().collection("positions");try{var t=ye({id:(yield e.add(s)).id},s);r((function(e){return[].concat((0,M.default)(e),[t])})),d({name:"",description:""})}catch(n){console.error("Error adding position: ",n)}}else console.warn("Both name and description must be filled.")}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,u.default)((function*(){var e=W.firestore().collection("positions").doc(x.id);try{yield e.update(s),j(null),d({name:"",description:""})}catch(t){console.error("Error updating position: ",t)}}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,u.default)((function*(e){var t=W.firestore().collection("positions").doc(e.id);try{yield t.delete()}catch(n){console.error("Error deleting position: ",n)}}));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)(o.default,{style:pe.container,children:(0,m.jsxs)(O.default,{children:[(0,m.jsx)(p,{txt:"Positions & Offices"}),(0,m.jsxs)(o.default,{style:pe.formContainer,children:[(0,m.jsx)(q.default,{name:"name",placeholder:"Office",placeholderTextColor:i.textPrimary,value:s.name,onChangeText:function(e){return b("name",e)},style:pe.input}),(0,m.jsx)(q.default,{name:"description",placeholder:"Position",placeholderTextColor:i.textPrimary,value:s.description,onChangeText:function(e){return b("description",e)},style:pe.input}),x?(0,m.jsx)(ce.default,{onPress:C,title:"Update",color:i.primary}):(0,m.jsx)(k.default,{onPress:v,style:pe.button,children:(0,m.jsx)(y.default,{style:pe.btntxt,children:"Add Positions / Offices"})})]}),n.map((function(e,t){return(0,m.jsxs)(o.default,{style:pe.positionContainer,children:[(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:pe.positionName,children:e.name}),(0,m.jsx)(y.default,{style:pe.bio,children:e.description})]}),(0,m.jsxs)(o.default,{style:pe.buttonContainer,children:[(0,m.jsx)(k.default,{style:pe.button,onPress:function(){return function(e){j(e),d({name:e.name,description:e.description})}(e)},children:(0,m.jsx)(y.default,{style:pe.btntxt,children:"Edit"})}),(0,m.jsx)(k.default,{style:pe.errorbutton,onPress:function(){return P(e)},children:(0,m.jsx)(y.default,{style:pe.btntxt,children:"Delete"})})]})]},t)}))]})})}var pe=a.default.create({container:{flex:1,padding:16,backgroundColor:i.backgroundPrimary},btntxt:{fontSize:15,fontWeight:"900",color:i.textPrimary},button:{backgroundColor:i.primaryAccent,margin:3,borderRadius:7,padding:9},errorbutton:{backgroundColor:i.secoundary,margin:3,borderRadius:7,padding:9},title:{fontSize:24,marginBottom:16,color:i.textPrimary,fontWeight:"bold"},formContainer:{marginBottom:16},input:{backgroundColor:i.backgroundSecoundary,width:"100%",borderRadius:8,paddingVertical:12,paddingHorizontal:16,color:i.textPrimary,margin:4},positionContainer:{margin:5,backgroundColor:i.backgroundSecoundary,borderRadius:7,padding:20},positionName:{fontSize:20,fontWeight:"900",color:i.textPrimary},bio:{fontSize:14,fontWeight:"bold",color:i.textsecoundary},buttonContainer:{flexDirection:"row",marginTop:8}}),ge=n(4564);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xe=a.default.create({container:{flex:1,padding:16,backgroundColor:i.backgroundPrimary},flatListContent:{paddingTop:8,paddingBottom:16},userContainer:{marginBottom:16,borderWidth:1,borderColor:i.backgroundSecoundary,borderRadius:8,padding:16,backgroundColor:i.backgroundSecoundary,shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},userName:{fontSize:18,fontWeight:"bold",color:i.textPrimary,marginBottom:8},email:{fontSize:16,color:i.textsecoundary},searchBar:{marginTop:8,marginBottom:16,backgroundColor:i.backgroundSecoundary}});const je=function(e){var t=e.navigation,n=(0,f.useState)([]),r=(0,c.default)(n,2),a=r[0],l=r[1],s=(0,f.useState)(""),d=(0,c.default)(s,2),u=d[0],g=d[1];(0,f.useEffect)((function(){var e=W.firestore().collection("users").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.id},e.data()))})),l(t)}));return function(){e()}}),[]);var h=a.filter((function(e){return e.firstName.toLowerCase().includes(u.toLowerCase())||e.lastName.toLowerCase().includes(u.toLowerCase())}));return(0,m.jsxs)(o.default,{style:xe.container,children:[(0,m.jsx)(p,{txt:"Users List"}),(0,m.jsx)(ge.default,{placeholder:"Search users...",value:u,onChangeText:function(e){return g(e)},style:xe.searchBar,color:i.textsecoundary}),(0,m.jsx)(A.default,{data:h,keyExtractor:function(e){return e.id},renderItem:function(e){var n=e.item;return(0,m.jsx)(k.default,{onPress:function(){return e=n,void t.navigate("ManageUsersDetails",{user:e});var e},children:(0,m.jsxs)(o.default,{style:xe.userContainer,children:[(0,m.jsxs)(y.default,{style:xe.userName,children:[n.firstName," ",n.lastName]}),(0,m.jsxs)(y.default,{style:xe.email,children:["Email: ",n.email]})]})})},contentContainerStyle:xe.flatListContent,showsVerticalScrollIndicator:!1})]})};var be=n(628),ve=n(3287),Ce=n(1135),Pe=n(758);function Se(e){var t=e.navigation;return"web"===w.default.OS&&t.push("Verify"),(0,m.jsx)(o.default,{style:we.container,children:(0,m.jsx)(ce.default,{title:"Verify Email",onPress:function(){return Pe.openBrowserAsync("https://expo.dev")},style:we.button})})}var we=a.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",height:600},button:{marginTop:500,width:"100%",maxWidth:700,justifyContent:"center",alignItems:"center"}});function Oe(e){var t=e.navigation,r=(0,f.useState)(""),a=(0,c.default)(r,2),l=a[0],s=a[1],d=(0,f.useState)(""),p=(0,c.default)(d,2),g=p[0],x=p[1],j=(0,f.useState)(!1),b=(0,c.default)(j,2),v=b[0],C=b[1],P=(0,f.useState)(!1),S=(0,c.default)(P,2),w=S[0],T=S[1],D=function(){var e=(0,u.default)((function*(){var e=l.trim().toLowerCase();if(e&&g)try{C(!0);var t=yield W.auth().signInWithEmailAndPassword(e,g);if(t){var n=yield B(e);n?null!==t.user.phoneNumber?(C(!1),yield Ce.default.setItem("userData",JSON.stringify(n)),be.reloadAsync()):(C(!1),E("Email isn't verified","Please email before login!"),T(!0)):E("User not found","User not found. Please sign up.")}}catch(r){C(!1),E("Error signing in",r.message)}else E("Incomplete fields","Please fill in all the fields.")}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,u.default)((function*(e){var t=W.firestore().collection("users").where("email","==",e),n=yield t.get();return n.empty?null:n.docs[0].data()}));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){U.default.alert(e,t),console.log(e,t)};return(0,m.jsx)(o.default,{style:{flex:1,backgroundColor:i.backgroundPrimary},children:(0,m.jsx)(O.default,{children:(0,m.jsxs)(o.default,{style:ke.container,children:[(0,m.jsx)(k.default,{style:ke.verifyBtn,onPress:function(){return T(!w)},children:(0,m.jsxs)(y.default,{style:{fontSize:20,fontWeight:"900",color:i.backgroundPrimary,textAlign:"center"},children:["Go to ",w?"Sign In":"Verification"]})}),v&&(0,m.jsx)(h.default,{size:"large",color:i.primary}),w?(0,m.jsx)(Se,{navigation:t}):(0,m.jsxs)(o.default,{style:ke.inputContainer,children:[(0,m.jsx)(ve.default,{source:n(7270),style:ke.image,resizeMode:"contain"}),(0,m.jsx)(y.default,{style:ke.title,children:"Sign in"}),(0,m.jsx)(o.default,{style:ke.textInput,children:(0,m.jsx)(q.default,{style:ke.input,placeholder:"Email",autoCompleteType:"email",autoFocus:!0,onChangeText:function(e){return s(e)},placeholderTextColor:i.textsecoundary})}),(0,m.jsx)(o.default,{style:ke.textInput,children:(0,m.jsx)(q.default,{style:ke.input,placeholder:"Password",secureTextEntry:!0,autoCompleteType:"password",onChangeText:function(e){return x(e)},placeholderTextColor:i.textsecoundary})}),(0,m.jsx)(k.default,{style:ke.signInButton,onPress:D,children:(0,m.jsx)(y.default,{style:ke.buttonText,children:"Sign In"})}),(0,m.jsx)(o.default,{style:ke.linkContainer,children:(0,m.jsx)(k.default,{onPress:function(){return t.push("Signup")},children:(0,m.jsx)(y.default,{style:ke.linkText,children:"Don't have an account? Sign Up"})})})]})]})})})}var ke=a.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:i.backgroundPrimary,paddingVertical:16,paddingHorizontal:16},title:{fontSize:24,fontWeight:"bold",color:i.textPrimary,marginBottom:16},inputContainer:{width:"100%",maxWidth:700,justifyContent:"center",alignItems:"center"},textInput:{margin:4,maxWidth:300,width:700,padding:5},input:{backgroundColor:i.backgroundSecoundary,width:"100%",borderRadius:8,paddingVertical:12,paddingHorizontal:16,color:i.textPrimary},signInButton:{backgroundColor:i.primaryAccent,borderRadius:8,paddingVertical:12,paddingHorizontal:24,marginBottom:8},buttonText:{color:i.textPrimary,fontSize:16,fontWeight:"bold",textAlign:"center"},linkContainer:{flexDirection:"row"},linkText:{color:i.primaryAccent,fontSize:14,marginRight:8},verifyBtn:{width:"80%",maxWidth:600,backgroundColor:i.secoundaryAccent,borderRadius:8,paddingVertical:20,paddingHorizontal:24,marginBottom:8,position:"absolute",top:30},image:{width:140,height:140,borderRadius:20,marginTop:100}}),Te=n(7255);function De(e){var t=e.navigation,r=(0,Te.useForm)(),a=r.handleSubmit,l=r.formState.errors,s=r.setValue,d=function(){var e=(0,u.default)((function*(e){if(e&&e.password===e.confirmPassword)try{(yield W.auth().createUserWithEmailAndPassword(e.email,e.password)).user;var n=W.firestore().collection("users").doc();yield n.set({role:"user",firstName:e.firstName,lastName:e.lastName,houseColor:e.houseColor,class:e.class,email:e.email,firstPassword:e.password}),console.log("Account data stored successfully"),t.push("Signin"),console.log("Account created successfully")}catch(r){console.error("Error creating user:",r.message),U.default.alert("Error creating user. Please try again later.")}else U.default.alert("Don't leave any field empty and make sure passwords match."),console.log("Don't leave any field empty and make sure passwords match.")}));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)(O.default,{children:(0,m.jsxs)(o.default,{style:Be.container,children:[(0,m.jsx)(ve.default,{source:n(7270),style:Be.image,resizeMode:"contain"}),(0,m.jsx)(y.default,{style:Be.title,children:"Sign up"}),(0,m.jsxs)(o.default,{style:Be.inputContainer,children:[(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"First Name",style:Be.input,onChangeText:function(e){return s("firstName",e)}}),l.firstName&&(0,m.jsx)(y.default,{children:l.firstName.message})]}),(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"Last Name",style:Be.input,onChangeText:function(e){return s("lastName",e)}}),l.lastName&&(0,m.jsx)(y.default,{children:l.lastName.message})]})]}),(0,m.jsxs)(o.default,{style:Be.inputContainer,children:[(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"House Color",style:Be.input,onChangeText:function(e){return s("houseColor",e)}}),l.houseColor&&(0,m.jsx)(y.default,{children:l.houseColor.message})]}),(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"Class",style:Be.input,onChangeText:function(e){return s("class",e)}}),l.class&&(0,m.jsx)(y.default,{children:l.class.message})]})]}),(0,m.jsx)(o.default,{style:Be.inputContainer,children:(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"Email Address",style:Be.input,onChangeText:function(e){return s("email",e)}}),l.email&&(0,m.jsx)(y.default,{children:l.email.message})]})}),(0,m.jsxs)(o.default,{style:Be.inputContainer,children:[(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"Password",style:Be.input,onChangeText:function(e){return s("password",e)},secureTextEntry:!0}),l.password&&(0,m.jsx)(y.default,{children:l.password.message})]}),(0,m.jsxs)(o.default,{style:Be.textInput,children:[(0,m.jsx)(q.default,{placeholderTextColor:i.textPrimary,placeholder:"Confirm Password",style:Be.input,onChangeText:function(e){return s("confirmPassword",e)},secureTextEntry:!0}),l.confirmPassword&&(0,m.jsx)(y.default,{children:l.confirmPassword.message})]})]}),(0,m.jsx)(k.default,{style:Be.signUpButton,onPress:a(d),children:(0,m.jsx)(y.default,{style:Be.buttonText,children:"Sign Up"})}),(0,m.jsx)(k.default,{onPress:function(){return t.push("Signin")},children:(0,m.jsx)(y.default,{style:Be.linkText,children:"Already have an account? Sign in"})})]})})}var Be=a.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:i.backgroundPrimary,paddingVertical:16,paddingHorizontal:16},title:{fontSize:24,fontWeight:"bold",color:i.textPrimary,marginBottom:16},inputContainer:{width:"100%",maxWidth:700,justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},textInput:{margin:4,maxWidth:300,width:700,padding:5},textInputText:{color:i.textsecoundary,marginBottom:5,marginLeft:5,fontWeight:"900"},input:{backgroundColor:i.backgroundSecoundary,width:"100%",borderRadius:8,paddingVertical:12,paddingHorizontal:16,color:i.textPrimary},signUpButton:{backgroundColor:i.primaryAccent,borderRadius:8,paddingVertical:12,paddingHorizontal:24,marginBottom:16,maxWidth:300,width:700},buttonText:{color:i.textPrimary,fontSize:16,fontWeight:"bold",textAlign:"center"},linkText:{color:i.primary,fontSize:14},image:{width:140,height:140,borderRadius:20,marginBottom:100}}),Ee=n(799);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(){var e=(0,f.useState)({}),t=(0,c.default)(e,2),n=t[0],r=t[1],a=(0,f.useState)(!1),i=(0,c.default)(a,2),l=i[0],s=i[1],d=(0,f.useState)({}),g=(0,c.default)(d,2),h=g[0],x=g[1],j=(0,f.useState)(!0),b=(0,c.default)(j,2),v=b[0],C=b[1],P=(0,f.useState)({}),S=(0,c.default)(P,2),w=S[0],O=S[1];(0,f.useEffect)((function(){T(),k()}),[]);var k=function(){var e=Ee.default.addEventListener((function(e){C(e.isConnected)}));return function(){e()}},T=function(){var e=(0,u.default)((function*(){try{var e=yield Ce.default.getItem("userData"),t=JSON.parse(e);O(t);var n=t.email;if(n){var a=W.firestore().collection("users").where("email","==",n),o=yield a.get();o.empty||o.forEach((function(e){var t=e.data();r(t),x(t)}))}}catch(i){console.error("Error fetching user data: ",i)}}));return function(){return e.apply(this,arguments)}}(),D=function(e,t){x((function(n){return Ie(Ie({},n),{},(0,L.default)({},e,t))}))},B=function(){var e=(0,u.default)((function*(){try{var e=W.firestore(),t=e.collection("users").where("email","==",n.email),a=yield t.get();a.empty||a.forEach((function(t){var n=t.id;e.collection("users").doc(n).update(h)})),yield Ce.default.setItem("userData",JSON.stringify(h)),r(h),s(!1)}catch(o){console.error("Error updating user data: ",o)}}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,u.default)((function*(){try{yield Ce.default.removeItem("userData"),be.reloadAsync()}catch(e){console.error("Error signing out: ",e)}}));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.default,{style:We.container,children:[(0,m.jsx)(p,{txt:`${n.email||w.email}`,size:12}),(0,m.jsxs)(o.default,{style:We.subContainer,children:[(0,m.jsx)(y.default,{style:We.txt,children:"Class:"}),l?(0,m.jsx)(q.default,{style:We.input,value:h.class,onChangeText:function(e){return D("class",e)},editable:v}):(0,m.jsx)(y.default,{style:We.txt,children:n.class||w.class}),(0,m.jsx)(y.default,{style:We.txt,children:"First Name:"}),l?(0,m.jsx)(q.default,{style:We.input,value:h.firstName,onChangeText:function(e){return D("firstName",e)},editable:v}):(0,m.jsx)(y.default,{style:We.txt,children:n.firstName||w.firstName}),(0,m.jsx)(y.default,{style:We.txt,children:"Last Name:"}),l?(0,m.jsx)(q.default,{style:We.input,value:h.lastName,onChangeText:function(e){return D("lastName",e)},editable:v}):(0,m.jsx)(y.default,{style:We.txt,children:n.lastName||w.lastName}),(0,m.jsx)(y.default,{style:We.txt,children:"House:"}),l?(0,m.jsx)(q.default,{style:We.input,value:h.houseColor,onChangeText:function(e){return D("houseColor",e)},editable:v}):(0,m.jsx)(y.default,{style:We.txt,children:n.houseColor||w.houseColor}),l?(0,m.jsx)(ce.default,{title:"Save",onPress:B,disabled:!v}):(0,m.jsx)(ce.default,{title:"Edit",onPress:function(){s(!0)},disabled:!v}),(0,m.jsx)(ce.default,{title:"Sign Out",onPress:E})]})]})}var We=a.default.create({container:{flex:1,backgroundColor:i.backgroundPrimary,padding:16,display:"flex",justifyContent:"center",alignItems:"center"},subContainer:{width:"90%",maxWidth:500,minWidth:200,backgroundColor:i.backgroundSecoundary,padding:30,borderRadius:15},txt:{color:i.textPrimary,fontSize:16,marginBottom:8},input:{height:40,borderColor:i.inputBorder,borderWidth:1,marginBottom:8,paddingHorizontal:8,color:i.textPrimary,backgroundColor:i.backgroundSecoundary,borderRadius:10}}),Re=n(6267);function Ve(){var e=(0,f.useState)([]),t=(0,c.default)(e,2),r=t[0],a=t[1],l=(0,f.useState)({}),s=(0,c.default)(l,2),d=s[0],g=s[1],h=(0,f.useState)([]),x=(0,c.default)(h,2),j=x[0],b=x[1],v=(0,f.useState)({}),C=(0,c.default)(v,2),P=C[0],S=C[1],w=(0,f.useState)(!0),k=(0,c.default)(w,2),T=k[0],D=k[1];(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=W.firestore(),t=e.collection("campaigns");try{var n=(yield t.get()).docs.map((function(e){var t=e.data();return t.id=e.id,t})),r=(new Date).toISOString().slice(0,10).replace(/-/g,"/"),o=n.filter((function(e){return e.endDate<r})),i=o.flatMap((function(e){return Object.values(e.nominees)})),l=o.map((function(e){return e.position})),s=i.map(function(){var t=(0,u.default)((function*(t){var n=yield e.collection("nominees").doc(t).get();if(n.exists){var r=n.data();return(0,L.default)({},t,r.firstName+" "+r.lastName)}}));return function(e){return t.apply(this,arguments)}}()),d=l.map(function(){var t=(0,u.default)((function*(t){var n=yield e.collection("positions").doc(t).get();if(n.exists){var r=n.data();return(0,L.default)({},t,r.name+" / "+r.description)}}));return function(e){return t.apply(this,arguments)}}()),c=yield Promise.all(s),f=yield Promise.all(d),y=Object.assign.apply(Object,[{}].concat((0,M.default)(c))),m=Object.assign.apply(Object,[{}].concat((0,M.default)(f)));a(o),g(y),S(m),D(!1)}catch(p){console.error("Error fetching data:",p),D(!1)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var B=function(){var e=(0,u.default)((function*(e){var t=W.firestore(),n=e.votes||{},r={};if(Object.values(n).forEach((function(e){r[e]=(r[e]||0)+1})),0===Object.keys(r).length)return null;var a=Object.keys(r).reduce((function(e,t){return r[e]>r[t]?e:t})),o=yield t.collection("nominees").doc(a).get();if(o.exists){var i=o.data();if(Object.keys(e.nominees).find((function(t){return e.nominees[t]===a})))return i.picture}return null}));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=yield Promise.all(r.map((function(e){return B(e)})));b(e)}));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,m.jsx)(o.default,{style:Ae.container,children:(0,m.jsxs)(O.default,{children:[(0,m.jsx)(p,{txt:"Campaigns Results"}),(0,m.jsx)(o.default,{style:Ae.gridContainer,children:T?(0,m.jsx)(y.default,{children:"Loading..."}):r.map((function(e,t){var r=j[t];return(0,m.jsxs)(ie.default,{style:Ae.card,children:[(0,m.jsx)(ie.default.Cover,{source:r?{uri:r}:n(6896),style:Ae.cardMedia}),(0,m.jsxs)(ie.default.Content,{children:[(0,m.jsx)(o.default,{style:{backgroundColor:i.secoundary,borderRadius:15,paddingHorizontal:15,margin:15,alignSelf:"center",paddingVertical:5},children:(0,m.jsx)(y.default,{style:{fontWeight:"900",color:i.textsecoundary},children:"WINNER"})}),(0,m.jsxs)(y.default,{style:Ae.positionText,children:[P[e.position]||"Position"," "]}),Object.values(e.nominees).map((function(t,n){var r=Object.values(e.votes||{}).filter((function(e){return e===t})).length;return(0,m.jsx)(o.default,{children:(0,m.jsx)(Re.default,{mode:"contained",disabled:!0,style:[Ae.voteButton],children:(0,m.jsx)(y.default,{style:Ae.nomineeText,children:`${d[t]||"Nominee"} (${r} votes)`})})},n)}))]})]},e.id)}))})]})})}var Ae=a.default.create({container:{flex:1,paddingVertical:8,paddingHorizontal:16,backgroundColor:i.backgroundPrimary},gridContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},card:{width:"100%",marginBottom:12,backgroundColor:i.backgroundSecoundary,maxWidth:400,margin:4},cardMedia:{height:200},positionText:{fontSize:20,fontWeight:"900",marginBottom:8,color:i.textPrimary,marginHorizontal:"auto",marginVertical:10},nomineeText:{fontSize:12,marginVertical:4,color:i.textsecoundary,fontWeight:"bold"},voteButton:{backgroundColor:i.primaryAccent,borderRadius:4,paddingVertical:8,paddingHorizontal:12,marginTop:8}});function Me(){var e=(0,f.useState)([]),t=(0,c.default)(e,2),r=t[0],a=t[1],l=(0,f.useState)({}),s=(0,c.default)(l,2),d=s[0],g=s[1],h=(0,f.useState)([]),x=(0,c.default)(h,2),j=x[0],b=x[1],v=(0,f.useState)({}),C=(0,c.default)(v,2),P=C[0],S=C[1],w=(0,f.useState)(!0),k=(0,c.default)(w,2),T=k[0],D=k[1],B=(new Date).toISOString().slice(0,10).replace(/-/g,"/");(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=W.firestore(),t=e.collection("campaigns");try{var n=(yield t.where("endDate",">",B).get()).docs.map((function(e){var t=e.data();return t.id=e.id,t})),r=n.flatMap((function(e){return Object.values(e.nominees)})),o=n.map((function(e){return e.position})),i=r.map(function(){var t=(0,u.default)((function*(t){var n=yield e.collection("nominees").doc(t).get();if(n.exists){var r=n.data();return(0,L.default)({},t,r.firstName+" "+r.lastName)}}));return function(e){return t.apply(this,arguments)}}()),l=o.map(function(){var t=(0,u.default)((function*(t){var n=yield e.collection("positions").doc(t).get();if(n.exists){var r=n.data();return(0,L.default)({},t,r.name+" / "+r.description)}}));return function(e){return t.apply(this,arguments)}}()),s=yield Promise.all(i),d=yield Promise.all(l),c=Object.assign.apply(Object,[{}].concat((0,M.default)(s))),f=Object.assign.apply(Object,[{}].concat((0,M.default)(d)));a(n),g(c),S(f),D(!1)}catch(y){console.error("Error fetching data:",y),D(!1)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var E=function(){var e=(0,u.default)((function*(e,t){var n=yield Ce.default.getItem("userData"),r=JSON.parse(n).email,a=W.firestore().collection("campaigns").doc(e);try{var o=yield a.get();if(o.exists){var i=o.data().votes||{};i[r]?alert("You have already voted for this position."):(i[r]=t,yield a.update({votes:i}),alert("Vote recorded for selected nominee"))}}catch(l){console.error("Error recording vote:",l)}}));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,u.default)((function*(e){var t=W.firestore(),n=e.votes||{},r={};if(Object.values(n).forEach((function(e){r[e]=(r[e]||0)+1})),0===Object.keys(r).length)return null;var a=Object.keys(r).reduce((function(e,t){return r[e]>r[t]?e:t})),o=yield t.collection("nominees").doc(a).get();if(o.exists){var i=o.data();if(Object.keys(e.nominees).find((function(t){return e.nominees[t]===a})))return i.picture}return null}));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){var e=yield Promise.all(r.map((function(e){return N(e)})));b(e)}));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,m.jsx)(o.default,{style:Le.container,children:(0,m.jsxs)(O.default,{children:[(0,m.jsx)(p,{txt:"All Campaigns"}),(0,m.jsx)(o.default,{style:Le.gridContainer,children:T?(0,m.jsx)(y.default,{children:"Loading..."}):r.map((function(e,t){var r=j[t];return(0,m.jsxs)(ie.default,{style:Le.card,children:[(0,m.jsx)(ie.default.Cover,{source:r?{uri:r}:n(6896),style:Le.cardMedia}),(0,m.jsxs)(ie.default.Content,{children:[(0,m.jsx)(y.default,{style:Le.positionText,children:P[e.position]||"Position"}),Object.values(e.nominees).map((function(t,n){return(0,m.jsx)(o.default,{children:(0,m.jsx)(Re.default,{mode:"contained",onPress:function(){return E(e.id,t)},disabled:B<e.startDate||B>e.endDate,style:[Le.voteButton,{backgroundColor:B<e.startDate||B>e.endDate?i.primaryAccent:i.primary}],children:(0,m.jsxs)(y.default,{style:Le.nomineeText,children:["Vote: ",d[t]||"Nominee"]})})},n)}))]})]},e.id)}))})]})})}var Le=a.default.create({container:{flex:1,paddingVertical:8,paddingHorizontal:16,backgroundColor:i.backgroundPrimary},gridContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},card:{width:"100%",marginBottom:12,backgroundColor:i.backgroundSecoundary,maxWidth:400,margin:4},cardMedia:{height:200},positionText:{fontSize:20,fontWeight:"900",marginBottom:8,color:i.textPrimary,marginHorizontal:"auto",marginVertical:10},nomineeText:{fontSize:12,marginVertical:4,color:i.textsecoundary,fontWeight:"bold"},voteButton:{borderRadius:4,paddingVertical:8,paddingHorizontal:12,marginTop:8}});function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,L.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=a.default.create({container:{flex:1,padding:16,backgroundColor:i.backgroundPrimary},heading:{fontSize:24,fontWeight:"bold",marginBottom:16,color:i.textPrimary},detailsContainer:{backgroundColor:i.backgroundSecoundary,padding:16,borderRadius:8,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},detailItem:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},detailLabel:{fontSize:16,fontWeight:"bold",color:i.textPrimary},detailValue:{fontSize:16,color:i.textsecoundary},editButton:{alignItems:"center",backgroundColor:"#2196F3",padding:12,borderRadius:8,marginTop:16},editButtonText:{color:i.textPrimary,fontSize:16,fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",padding:16,backgroundColor:i.backgroundPrimary},input:{borderWidth:1,borderColor:i.backgroundSecoundary,padding:8,marginBottom:16,borderRadius:8,color:i.textPrimary},buttonContainer:{flexDirection:"row",justifyContent:"space-around",marginTop:16},updateButton:{alignItems:"center",backgroundColor:i.primaryAccent,padding:12,borderRadius:8},cancelButton:{alignItems:"center",backgroundColor:i.secoundary,padding:12,borderRadius:8},buttonText:{color:"#fff",fontSize:16,fontWeight:"bold"}});const qe=function(e){var t=e.route,n=e.navigation,r=t.params.user,a=(0,f.useState)(!1),l=(0,c.default)(a,2),s=l[0],d=l[1],g=(0,f.useState)(Ue({},r)),h=(0,c.default)(g,2),x=h[0],j=h[1],b=function(){var e=(0,u.default)((function*(){try{var e=W.firestore().collection("users");yield e.doc(r.id).update(x),d(!1),n.push("ManageUsers")}catch(t){console.error("Error updating user data:",t)}}));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(o.default,{style:Fe.container,children:[(0,m.jsx)(p,{txt:"User Details"}),(0,m.jsxs)(o.default,{style:Fe.detailsContainer,children:[(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"Role:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.role})]}),(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"First Name:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.firstName})]}),(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"Last Name:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.lastName})]}),(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"House Color:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.houseColor})]}),(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"Class:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.class})]}),(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"Email:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.email})]}),(0,m.jsxs)(o.default,{style:Fe.detailItem,children:[(0,m.jsx)(y.default,{style:Fe.detailLabel,children:"First Password:"}),(0,m.jsx)(y.default,{style:Fe.detailValue,children:r.firstPassword})]})]}),s?(0,m.jsx)(S.default,{visible:s,animationType:"slide",children:(0,m.jsxs)(o.default,{style:Fe.modalContainer,children:[(0,m.jsx)(p,{txt:"Edit User Details"}),(0,m.jsx)(q.default,{style:Fe.input,value:x.role,onChangeText:function(e){return j(Ue(Ue({},x),{},{role:e}))},placeholder:"Role",color:i.textsecoundary}),(0,m.jsx)(q.default,{style:Fe.input,value:x.firstName,onChangeText:function(e){return j(Ue(Ue({},x),{},{firstName:e}))},placeholder:"First Name",color:i.textsecoundary}),(0,m.jsx)(q.default,{style:Fe.input,value:x.lastName,onChangeText:function(e){return j(Ue(Ue({},x),{},{lastName:e}))},placeholder:"Last Name",color:i.textsecoundary}),(0,m.jsx)(q.default,{style:Fe.input,value:x.houseColor,onChangeText:function(e){return j(Ue(Ue({},x),{},{houseColor:e}))},placeholder:"House Color",color:i.textsecoundary}),(0,m.jsx)(q.default,{style:Fe.input,value:x.class,onChangeText:function(e){return j(Ue(Ue({},x),{},{class:e}))},placeholder:"Class",color:i.textsecoundary}),(0,m.jsxs)(o.default,{style:Fe.buttonContainer,children:[(0,m.jsx)(k.default,{onPress:b,children:(0,m.jsx)(o.default,{style:Fe.updateButton,children:(0,m.jsx)(y.default,{style:Fe.buttonText,children:"Update"})})}),(0,m.jsx)(k.default,{onPress:function(){return d(!1)},style:Fe.cancelButton,children:(0,m.jsx)(y.default,{style:Fe.buttonText,children:"Cancel"})})]})]})}):(0,m.jsx)(k.default,{onPress:function(){d(!0)},children:(0,m.jsx)(o.default,{style:Fe.editButton,children:(0,m.jsx)(y.default,{style:Fe.editButtonText,children:"Edit Details"})})})]})};var $e=n(4286);function _e(e){var t=e.navigation,n=(0,f.useState)(""),r=(0,c.default)(n,2),a=r[0],l=r[1],s=(0,f.useState)(""),d=(0,c.default)(s,2),p=d[0],g=d[1],x=(0,f.useState)(!1),j=(0,c.default)(x,2),b=j[0],v=j[1],C=(0,f.useState)(null),P=(0,c.default)(C,2),S=P[0],O=P[1],k=(0,Te.useForm)(),T=k.control,D=k.handleSubmit,B=k.formState.errors,E=k.getValues,N=function(){var e=(0,u.default)((function*(){v(!0);try{var e=E().phone;console.log(e);var t=e,n=(0,$e.parsePhoneNumber)(t);if(!n||!n.isValid())throw new Error("Invalid phone number format");var r=new W.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible"}),a=yield W.auth().signInWithPhoneNumber(t,r);O(a),l(a.verificationId),console.log("Phone verification code sent:",a),v(!1)}catch(o){console.error("Error signing up with phone number:",o),v(!1)}}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,u.default)((function*(){var e=E(),n=e.email,r=e.password;console.log(n,r),v(!0);try{var o=(yield W.auth().signInWithEmailAndPassword(n,r)).user;if(!S)throw new Error("Please send OTP first");var i=W.auth.PhoneAuthProvider.credential(a,p);yield o.linkWithCredential(i),console.log("Phone number linked successfully to user:",o),v(!1),t.push("Signin")}catch(l){console.error("Error linking phone number to user:",l),v(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,m.jsx)(o.default,{style:Ge.container,children:"web"!==w.default.OS?(0,m.jsx)(y.default,{style:Ge.title,children:"This Page Must Be Access From Web Browser"}):(0,m.jsxs)(m.Fragment,{children:[b?(0,m.jsx)(h.default,{size:"large",color:i.secoundary}):null,(0,m.jsx)(o.default,{children:(0,m.jsx)(y.default,{style:Ge.title,children:" Verify"})}),(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:Ge.title,children:" Email"}),(0,m.jsx)(Te.Controller,{control:T,rules:{required:"Email is required"},render:function(e){var t=e.field,n=t.onChange,r=t.onBlur,a=t.value;return(0,m.jsx)(q.default,{color:i.textPrimary,style:Ge.input,value:a,onBlur:r,onChangeText:n})},name:"email"}),B.email&&(0,m.jsxs)(y.default,{style:Ge.errText,children:[" ",B.email.message]})]}),(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:Ge.title,children:" Password"}),(0,m.jsx)(Te.Controller,{control:T,rules:{required:"Password is required"},render:function(e){var t=e.field,n=t.onChange,r=t.onBlur,a=t.value;return(0,m.jsx)(q.default,{color:i.textPrimary,style:Ge.input,value:a,onBlur:r,onChangeText:n,secureTextEntry:!0})},name:"password"}),B.password&&(0,m.jsxs)(y.default,{style:Ge.errText,children:[" ",B.password.message]})]}),(0,m.jsxs)(o.default,{children:[(0,m.jsx)(y.default,{style:Ge.title,children:" Phone Number"}),(0,m.jsx)(Te.Controller,{control:T,rules:{required:"Phone Number is required"},render:function(e){var t=e.field,n=t.onChange,r=t.onBlur,a=t.value;return(0,m.jsx)(q.default,{color:i.textPrimary,style:Ge.input,value:a,onBlur:r,onChangeText:n})},name:"phone"}),B.phone&&(0,m.jsxs)(y.default,{style:Ge.errText,children:[" ",B.phone.message]})]}),(0,m.jsxs)(o.default,{children:[(0,m.jsx)(ce.default,{style:Ge.btn,title:"Send OTP",onPress:N}),(0,m.jsx)(y.default,{style:Ge.title,children:" Verification Code"}),(0,m.jsx)(q.default,{color:i.textPrimary,style:Ge.input,value:p,onChangeText:function(e){return g(e)}})]}),(0,m.jsx)(o.default,{id:"recaptcha-container"}),(0,m.jsx)(ce.default,{style:Ge.btn,title:"Verify",onPress:D(I)})]})})}var Ge=a.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingVertical:16,paddingHorizontal:16,backgroundColor:i.backgroundPrimary},title:{fontSize:18,fontWeight:"bold",marginHorizontal:5,color:i.textPrimary},input:{backgroundColor:i.backgroundSecoundary,width:"100%",borderRadius:8,paddingVertical:12,paddingHorizontal:16,color:i.textPrimary,marginBottom:10,width:"100%",maxWidth:500,minWidth:250},errText:{color:i.secoundary,fontSize:14},btn:{margin:10}}),Je=(0,I.default)(),Ke={header:function(){return(0,m.jsx)(B,{screens:s})}},Xe={header:function(){return(0,m.jsx)(B,{screens:l})}},Ze={header:function(){return(0,m.jsx)(B,{screens:d})}},Ye=function(){return(0,m.jsx)(N.default,{children:(0,m.jsxs)(Je.Navigator,{initialRouteName:"Voting",screenOptions:Ke,children:[(0,m.jsx)(Je.Screen,{name:"Voting",component:Me,options:{headerShown:!0}}),(0,m.jsx)(Je.Screen,{name:"Result",component:Ve}),(0,m.jsx)(Je.Screen,{name:"MyAccount",component:ze})]})})},Qe=function(){return(0,m.jsx)(N.default,{children:(0,m.jsxs)(Je.Navigator,{initialRouteName:"Dashboard",screenOptions:Xe,children:[(0,m.jsx)(Je.Screen,{name:"Voting",component:Me}),(0,m.jsx)(Je.Screen,{name:"ManageUsersDetails",component:qe}),(0,m.jsx)(Je.Screen,{name:"Dashboard",component:R}),(0,m.jsx)(Je.Screen,{name:"ManageCampaigns",component:ne}),(0,m.jsx)(Je.Screen,{name:"ManageNominee",component:de}),(0,m.jsx)(Je.Screen,{name:"ManagePositionOffice",component:me}),(0,m.jsx)(Je.Screen,{name:"MyAccount",component:ze}),(0,m.jsx)(Je.Screen,{name:"Result",component:Ve}),(0,m.jsx)(Je.Screen,{name:"ManageUsers",component:je})]})})},et=function(){return(0,m.jsx)(N.default,{children:(0,m.jsxs)(Je.Navigator,{initialRouteName:"Signin",screenOptions:Ze,children:[(0,m.jsx)(Je.Screen,{name:"Signup",component:De}),(0,m.jsx)(Je.Screen,{name:"Signin",component:Oe}),(0,m.jsx)(Je.Screen,{name:"Verify",component:_e})]})})};function tt(){var e=(0,f.useState)(null),t=(0,c.default)(e,2),n=t[0],r=t[1],a=(0,f.useState)(!0),o=(0,c.default)(a,2),i=o[0],l=o[1];return(0,f.useEffect)((function(){var e=function(){var e=(0,u.default)((function*(){try{var e=yield Ce.default.getItem("userData");if(e){var t=JSON.parse(e);r(t)}}catch(n){console.log("Error retrieving user data:",n)}finally{l(!1)}}));return function(){return e.apply(this,arguments)}}();e()}),[]),i?(0,m.jsx)(x,{}):n&&"admin"===n.role?(0,m.jsx)(Qe,{}):n?(0,m.jsx)(Ye,{}):(0,m.jsx)(et,{})}function nt(){return(0,m.jsxs)(o.default,{style:rt.container,children:[(0,m.jsx)(r.default,{style:"auto"}),(0,m.jsx)(tt,{})]})}var rt=a.default.create({container:{flex:1,backgroundColor:i.backgroundPrimary}})},6896:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/businessman-character-avatar.7d24b5f68e5cf0d32546.jpg"},7270:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/icon.5ebd70273645a5fff32c.png"},4654:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],l=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,s]=r,d=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(t&&t(r);d<i.length;d++)o=i[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[74],(()=>n(6271)));r=n.O(r)})();
//# sourceMappingURL=main.e0c21acb.js.map